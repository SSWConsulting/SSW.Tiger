# ==============================================================================
# TIGER Pipeline Environment Configuration
# ==============================================================================

# ------------------------------------------------------------------------------
# Claude Code Authentication (Choose ONE or configure BOTH for flexibility)
# ------------------------------------------------------------------------------

# Option 1: API Key (Pay-as-you-go)
# Best for: Testing, low volume, variable usage
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=your_api_key_here
# Alternative name (both are supported):
# CLAUDE_API_KEY=your_api_key_here

# Option 2: Subscription Token (Fixed monthly cost, preferred for high volume)
# Best for: Production, high volume, predictable usage
# Get from: Your Claude subscription dashboard
# CLAUDE_SUBSCRIPTION_TOKEN=your_subscription_token_here

# Priority: If both are set, subscription token is used (lower per-request cost)

# ------------------------------------------------------------------------------
# Deployment Configuration (for surge.sh)
# ------------------------------------------------------------------------------

# Surge.sh credentials (for Claude Code to deploy dashboards)
# Get token from: https://surge.sh/
SURGE_LOGIN=your_email@example.com
SURGE_TOKEN=your_surge_token_here

# ------------------------------------------------------------------------------
# Optional: Output Configuration
# ------------------------------------------------------------------------------

# Output directory for generated dashboards (defaults to ./output)
# OUTPUT_DIR=/app/output

# Optional: Custom Claude CLI command
# CLAUDE_CLI=claude

# ------------------------------------------------------------------------------
# Azure-specific (for Container Apps deployment)
# ------------------------------------------------------------------------------

# Azure Blob Storage connection string (for production dashboard hosting)
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...

# ------------------------------------------------------------------------------
# Local Development Usage
# ------------------------------------------------------------------------------

# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Fill in your credentials (at minimum, set one Claude auth method)
#
# 3. Run with Docker Compose:
#    docker-compose build
#    docker-compose run --rm meeting-processor /app/dropzone/meeting.vtt projectname
#
# 4. Or run directly with Node.js:
#    node processor.js /path/to/transcript.vtt projectname

# ------------------------------------------------------------------------------
# Azure Container Apps Usage
# ------------------------------------------------------------------------------

# Store these secrets in Azure Key Vault:
# az keyvault secret set --vault-name kv-tiger --name claude-api-key --value "..."
# az keyvault secret set --vault-name kv-tiger --name claude-subscription-token --value "..."
# az keyvault secret set --vault-name kv-tiger --name surge-email --value "..."
# az keyvault secret set --vault-name kv-tiger --name surge-token --value "..."
#
# Then reference in Container App:
# az containerapp job secret set --name job-tiger-processor --resource-group rg-tiger \
#   --secrets "claude-api-key=keyvaultref:https://kv-tiger.vault.azure.net/secrets/claude-api-key" \
#            "claude-subscription-token=keyvaultref:https://kv-tiger.vault.azure.net/secrets/claude-subscription-token"
